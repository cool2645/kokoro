/*!
 * kokoro - Headless music player written with Redux.
 * --------
 * @version 0.0.1
 * @homepage: https://github.com/cool2645/kokoro#readme
 * @license MIT
 * @author rikakomoe
 * 
 */
!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.kokoro=r():n.kokoro=r()}(window,function(){return function(n){var r={};function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:e})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,r){if(1&r&&(n=t(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var o in n)t.d(e,o,function(r){return n[r]}.bind(null,o));return e},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=0)}([function(n,r,t){"use strict";t.r(r);var e={};t.r(e),t.d(e,"SET_VOLUME",function(){return u}),t.d(e,"SET_SPEED",function(){return a}),t.d(e,"setVolume",function(){return f}),t.d(e,"setSpeed",function(){return c}),t.d(e,"PAUSE",function(){return l}),t.d(e,"PLAY",function(){return s}),t.d(e,"TOGGLE_PLAY",function(){return y}),t.d(e,"SET_CURRENT_TIME",function(){return d}),t.d(e,"pause",function(){return p}),t.d(e,"play",function(){return b}),t.d(e,"togglePlay",function(){return m}),t.d(e,"setCurrentTime",function(){return E}),t.d(e,"SET_PLAYLIST",function(){return _}),t.d(e,"CLEAR_PLAYLIST",function(){return P}),t.d(e,"setPlayOrder",function(){return v}),t.d(e,"nextPlayOrder",function(){return g}),t.d(e,"setCurrentSong",function(){return h}),t.d(e,"setNextSong",function(){return w}),t.d(e,"removeSong",function(){return O}),t.d(e,"setPlaylist",function(){return T}),t.d(e,"clearPlaylist",function(){return S}),t.d(e,"next",function(){return L}),t.d(e,"previous",function(){return A});var o={};t.r(o),t.d(o,"Song",function(){return Y}),t.d(o,"Playlist",function(){return C});var i=["PLAY_ORDER_LOOP","PLAY_ORDER_RANDOM","PLAY_ORDER_SINGLE"],u="SET_VOLUME",a="SET_SPEED";function f(n){return{type:u,payload:n}}function c(n){return{type:a,payload:n}}var l="PAUSE",s="PLAY",y="TOGGLE_PLAY",d="SET_CURRENT_TIME";function p(){return{type:l}}function b(){return{type:s}}function m(){return{type:y}}function E(n){return{type:d,payload:n}}var _="SET_PLAYLIST",P="CLEAR_PLAYLIST";function v(n){}function g(){}function h(n){}function w(n){}function O(n){}function T(n,r,t){}function S(){}function L(){}function A(){}function R(n){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function j(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var Y=function(){function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n)}var r,t,e;return r=n,e=[{key:"id",value:function(r){return n.validate(r),r.src instanceof Array?r.src[0]:r.src}},{key:"validate",value:function(n){if(!n||"object"!==R(n))throw new TypeError("song is not an object");var r;if(n.src instanceof Array){if(!n.src.length)throw new TypeError("invalid song object: src is an empty array");r=n.src[0]}else r=n.src;if("string"!=typeof r)throw new TypeError("invalid song object: src must be a string or string array");if(!r)throw new TypeError("invalid song object: src cannot be an empty string");return!0}}],(t=null)&&j(r.prototype,t),e&&j(r,e),n}();function k(n){return function(n){if(Array.isArray(n)){for(var r=0,t=new Array(n.length);r<n.length;r++)t[r]=n[r];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}var C=function(){function n(){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n)}var r,t,e;return r=n,e=[{key:"validate",value:function(n){if(!(n.playlist instanceof Array))throw new TypeError("playlist must be an array");if(!(n.randomPool instanceof Array))throw new TypeError("randomPool must be an array");if(!(n.coolDownPool instanceof Array))throw new TypeError("coolDownPool must be an array");var r=[].concat(k(n.randomPool),k(n.coolDownPool)).sort(function(n,r){return Y.id(n).localeCompare(Y.id(r))}),t=k(n.playlist).sort(function(n,r){return Y.id(n).localeCompare(Y.id(r))});if(r.length!==t.length)throw new TypeError("the union of randomPool and cooldownPool must be exactly the same as playlist");for(var e=0;e<r.length;e++)if(Y.id(r[e])!==Y.id(t[e]))throw new TypeError("the union of randomPool and cooldownPool must be exactly the same as playlist");if(n.playlist.length){if(!n.playing)throw new TypeError("playing is required when playlist is non-empty");Y.validate(n.playing)}else if(n.playing)throw new TypeError("playing must be null when playlist is empty");if(n.playOrder&&-1===k(i).indexOf(n.playOrder))throw new TypeError("playOrder must be one of "+i.toString())}}],(t=null)&&D(r.prototype,t),e&&D(r,e),n}();function x(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function I(n,r,t){return r&&x(n.prototype,r),t&&x(n,t),n}t.d(r,"Kokoro",function(){return N}),t.d(r,"LYRICS_TYPE_LRC",function(){return"lrc"}),t.d(r,"LYRICS_TYPE_L2C",function(){return"l2c"}),t.d(r,"PLAY_ORDER_LOOP",function(){return"PLAY_ORDER_LOOP"}),t.d(r,"PLAY_ORDER_SINGLE",function(){return"PLAY_ORDER_SINGLE"}),t.d(r,"PLAY_ORDER_RANDOM",function(){return"PLAY_ORDER_RANDOM"}),t.d(r,"PLAY_ORDER",function(){return i}),t.d(r,"actions",function(){return e}),t.d(r,"helpers",function(){return o});var M={storageKey:"kokoro-store",audioTagId:"kokoro-sevice"},N=function(){function n(r){!function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}(this,n);var t=Object.assign({},M,r);this._storageKey=t.storageKey,this._mount(t.audioTagId)}return I(n,[{key:"ref",get:function(){return this._ref}}]),I(n,[{key:"destroy",value:function(){this._destroyed=!0,this._unmount()}},{key:"_mount",value:function(n){this._ref=document.createElement("audio"),n&&(this._ref.id=n),document.body.appendChild(this._ref)}},{key:"_unmount",value:function(){this._ref.remove()}}]),n}();r.default=N}]).default});
//# sourceMappingURL=kokoro.min.js.map